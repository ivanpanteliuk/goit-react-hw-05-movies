"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[593],{1792:function(n,e,t){t.d(e,{Z:function(){return Z}});var r,o,a,c,i,s,p,u=t(7689),l=t(168),f=t(7402),d=t(1087),x=f.Z.ul(r||(r=(0,l.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 30px;\n"]))),h=f.Z.li(o||(o=(0,l.Z)(["\n  flex-basis: calc((100% - 90px) / 4);\n  background-color: rgb(31, 30, 43);\n  box-shadow: 0 3px 6px -2px rgba(0, 0, 0, 0.2), 0 6px 12px rgba(0, 0, 0, 0.1);\n\n  &:hover {\n    transform: scale(1.05);\n    box-shadow: 2px 2px 18px 6px rgba(255, 31, 31, 1);\n  }\n"]))),g=f.Z.div(a||(a=(0,l.Z)(["\n  position: relative;\n  overflow: hidden;\n  height: 555px;\n"]))),m=(f.Z.h2(c||(c=(0,l.Z)(["\n  font-size: 18px;\n  line-height: 2;\n  letter-spacing: 0.06em;'\n"]))),(0,f.Z)(d.rU)(i||(i=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n\n  height: 100%;\n"])))),v=f.Z.div(s||(s=(0,l.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  width: 370px;\n  padding: 20px;\n  background-color: rgb(31, 30, 43);\n  color: #fff;\n  flex-grow: 1;\n"]))),b=f.Z.img(p||(p=(0,l.Z)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n"]))),w=t(184);function Z(n){var e=n.moviesArr,t=(0,u.TH)();return(0,w.jsx)(x,{children:e.map((function(n){var e=n.id,r=n.title,o=n.imageUrl;return(0,w.jsx)(h,{children:(0,w.jsxs)(m,{to:"/movies/".concat(e),state:{from:t},children:[(0,w.jsx)(g,{children:(0,w.jsx)(b,{src:o,alt:r,width:"370"})}),(0,w.jsx)(v,{children:(0,w.jsx)("h2",{children:r})})]})},e)}))})}},8593:function(n,e,t){t.r(e),t.d(e,{default:function(){return C}});var r,o,a,c,i,s=t(5861),p=t(9439),u=t(4687),l=t.n(u),f=t(1552),d=t(5305),x=t(1792),h=t(8185),g=t(2791),m=t(168),v=t(7402),b=v.Z.div(r||(r=(0,m.Z)(["\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 60px;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: rgba(23, 28, 40, 0.45526516270570727);\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n"]))),w=v.Z.form(o||(o=(0,m.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: rgba(55, 25, 87, 0.46366852405024506);\n  border-radius: 3px;\n  border: 1px solid black;\n  overflow: hidden;\n"]))),Z=v.Z.button(a||(a=(0,m.Z)(["\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  background-color: #ffbd2a;\n  &:hover {\n    opacity: 1;\n  }\n"]))),j=v.Z.span(c||(c=(0,m.Z)(["\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n  color: #000;\n"]))),y=v.Z.input(i||(i=(0,m.Z)(["\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  background-color: rgba(55, 25, 87, 0.46366852405024506);\n  color: #fff;\n\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n"]))),k=t(184);function _(n){var e=n.onSubmit,t=(0,g.useState)(""),r=(0,p.Z)(t,2),o=r[0],a=r[1];return(0,k.jsx)(b,{children:(0,k.jsxs)(w,{onSubmit:function(n){n.preventDefault(),""!==o.trim()&&(e(o.trim()),a(""))},children:[(0,k.jsxs)(Z,{type:"submit",children:[(0,k.jsx)(h.dVI,{size:"24px"}),(0,k.jsx)(j,{children:"Search"})]}),(0,k.jsx)(y,{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:o,onChange:function(n){a(n.target.value.toLowerCase())}})]})})}var S=t(1087),z=t(7505);function C(){var n,e=(0,S.lr)(),t=(0,p.Z)(e,2),r=t[0],o=t[1],a=(0,g.useState)(null!==(n=r.get("query"))&&void 0!==n?n:""),c=(0,p.Z)(a,2),i=c[0],u=c[1],h=(0,g.useState)([]),m=(0,p.Z)(h,2),v=m[0],b=m[1],w=(0,g.useState)(!1),Z=(0,p.Z)(w,2),j=Z[0],y=Z[1],C=(0,g.useState)(null),M=(0,p.Z)(C,2),U=M[0],q=M[1];(0,g.useEffect)((function(){i&&(0,s.Z)(l().mark((function n(){var e;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return y(!0),n.prev=1,n.next=4,z.y.fetchMoviesByQuery(i);case 4:e=n.sent,b(e),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0),q(n.t0);case 12:return n.prev=12,y(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[1,8,12,15]])})))()}),[i]);return(0,k.jsx)(f.$0,{children:(0,k.jsxs)(f.W2,{children:[(0,k.jsx)(_,{onSubmit:function(n){u(n),o({query:n})}}),U&&(0,k.jsx)("p",{style:{fontSize:"40px",color:"#fff",textAlign:"center"},children:"Ops, something went wrong"}),j&&(0,k.jsx)(d.Z,{}),(0,k.jsx)(x.Z,{moviesArr:v})]})})}},7505:function(n,e,t){t.d(e,{y:function(){return p}});var r=t(5861),o=t(4687),a=t.n(o);function c(n){return n.map((function(n){var e=n.id,t=n.title,r=n.poster_path;return{id:e,title:t,imageUrl:r?"https://image.tmdb.org/t/p/w400".concat(r):"https://cdn.pixabay.com/photo/2017/03/13/17/25/clapper-2140602_960_720.jpg"}}))}var i="https://api.themoviedb.org/3/",s="?api_key=4be2754f05f22adf5c9807436c0754eb",p={fetchTrending:function(){return(0,r.Z)(a().mark((function n(){var e,t,r,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="".concat(i).concat("trending/movie/day").concat(s),n.next=3,fetch(e);case 3:return t=n.sent,n.next=6,t.json();case 6:return r=n.sent,o=r.results,n.abrupt("return",c(o));case 9:case"end":return n.stop()}}),n)})))()},fetchMovieDetails:function(n){return(0,r.Z)(a().mark((function e(){var t,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(i,"movie/").concat(n).concat(s),e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.json();case 6:return o=e.sent,e.abrupt("return",{title:(a=o).title,userScore:Math.floor(Math.ceil(100*a.vote_average)/10)+"%",overview:a.overview,genres:a.genres.map((function(n){return n.name})).join(", "),year:new Date(a.release_date).getFullYear(),imageUrl:"https://image.tmdb.org/t/p/w500".concat(a.poster_path)});case 8:case"end":return e.stop()}var a}),e)})))()},fetchCast:function(n){return(0,r.Z)(a().mark((function e(){var t,r,o,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(i,"movie/").concat(n,"/credits").concat(s),e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.json();case 6:return o=e.sent,c=o.cast,e.abrupt("return",c.filter((function(n){return n.profile_path})).map((function(n){var e=n.cast_id,t=n.character,r=n.name,o=n.profile_path;return{id:e,character:t,name:r,imageUrl:"https://image.tmdb.org/t/p/w300".concat(o)}})));case 9:case"end":return e.stop()}}),e)})))()},fetchReviews:function(n){return(0,r.Z)(a().mark((function e(){var t,r,o,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(i,"movie/").concat(n,"/reviews").concat(s),e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.json();case 6:return o=e.sent,c=o.results,e.abrupt("return",c.map((function(n){return{author:n.author,content:n.content,id:n.id}})));case 9:case"end":return e.stop()}}),e)})))()},fetchMoviesByQuery:function(n){return(0,r.Z)(a().mark((function e(){var t,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(i,"search/movie").concat(s,"&query=").concat(n),e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.json();case 6:return o=e.sent,e.abrupt("return",c(o.results));case 8:case"end":return e.stop()}}),e)})))()}}}}]);
//# sourceMappingURL=593.fb3e2e12.chunk.js.map