{"version":3,"file":"static/js/387.3c76e549.chunk.js","mappings":"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","sources":["components/Cast/Cast.styled.js","components/Cast/Cast.jsx","helpers/normalizeTrendingAndQueryData.js","services/API-service.js","helpers/normalizeMovieDetailsData.js","helpers/normalizeCastData.js","helpers/normalizeReviewData.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const CastList = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 17px;\n`;\n\nexport const CastItem = styled.li`\n  flex-basis: calc((100% - 68px) / 5);\n  background-color: rgb(31, 30, 43);\n  box-shadow: 0 3px 6px -2px rgba(0, 0, 0, 0.2), 0 6px 12px rgba(0, 0, 0, 0.1);\n`;\n\nexport const CastTitleWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  width: 300px;\n  padding: 20px;\n  background-color: rgb(31, 30, 43);\n  color: #fff;\n  flex-grow: 1;\n  font-size: 20px;\n`;\n\nexport const CastSubtitle = styled.h3`\n  color: #ffbd2a;\n  font-weight: bold;\n  margin-bottom: 15px;\n`;\n\nexport const CastText = styled.p`\n  font-size: 18px;\n`;\n\nexport const CastSpanText = styled.span`\n  font-weight: bold;\n  font-style: none;\n  font-size: 22px;\n`;\n","import { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { MoviesAPI } from 'services/API-service';\nimport {\n  CastItem,\n  CastList,\n  CastSpanText,\n  CastSubtitle,\n  CastText,\n  CastTitleWrapper,\n} from './Cast.styled';\nimport { Section } from 'components/App/App.styled';\nimport Loader from 'components/Loader/Loader';\n\nexport default function Cast() {\n  const { id: movieId } = useParams();\n  const [cast, setCast] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    (async () => {\n      setIsLoading(true);\n      try {\n        const data = await MoviesAPI.fetchCast(movieId);\n        setCast(data);\n      } catch (error) {\n        console.log(error);\n        setError(error);\n      } finally {\n        setIsLoading(false);\n      }\n    })();\n  }, [movieId]);\n\n  return (\n    <Section>\n      {isLoading && <Loader />}\n      {!cast.length && (\n        <p style={{ fontSize: '40px', color: '#fff', textAlign: 'center' }}>\n          There is no information about cast yet\n        </p>\n      )}\n      {error && (\n        <p style={{ fontSize: '40px', color: '#fff', textAlign: 'center' }}>\n          Ops, something went wrong\n        </p>\n      )}\n      <CastList>\n        {cast.map(({ id, character, name, imageUrl }) => (\n          <CastItem key={id}>\n            <img src={imageUrl} alt={name} width=\"300\" />\n            <CastTitleWrapper>\n              <CastSubtitle>{name}</CastSubtitle>\n              <CastText>\n                <CastSpanText>Character: </CastSpanText>\n                {character}\n              </CastText>\n            </CastTitleWrapper>\n          </CastItem>\n        ))}\n      </CastList>\n    </Section>\n  );\n}\n","export function normalizeTrendingAndQueryData(dataArr) {\n  return dataArr.map(({ id, title, poster_path }) => ({\n    id,\n    title,\n    imageUrl: poster_path\n      ? `https://image.tmdb.org/t/p/w400${poster_path}`\n      : 'https://cdn.pixabay.com/photo/2017/03/13/17/25/clapper-2140602_960_720.jpg',\n  }));\n}\n","import { normalizeCastData } from 'helpers/normalizeCastData';\nimport { normalizeMovieDetailsData } from 'helpers/normalizeMovieDetailsData';\nimport { normalizeReviewData } from 'helpers/normalizeReviewData';\nimport { normalizeTrendingAndQueryData } from 'helpers/normalizeTrendingAndQueryData';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst KEY = '?api_key=4be2754f05f22adf5c9807436c0754eb';\nconst TRENDING_MOVIES = 'trending/movie/day';\n\nexport const MoviesAPI = {\n  async fetchTrending() {\n    const URL = `${BASE_URL}${TRENDING_MOVIES}${KEY}`;\n\n    const response = await fetch(URL);\n    const { results } = await response.json();\n\n    return normalizeTrendingAndQueryData(results);\n  },\n\n  async fetchMovieDetails(id) {\n    const URL = `${BASE_URL}movie/${id}${KEY}`;\n    const response = await fetch(URL);\n    const data = await response.json();\n\n    return normalizeMovieDetailsData(data);\n  },\n\n  async fetchCast(id) {\n    const URL = `${BASE_URL}movie/${id}/credits${KEY}`;\n\n    const response = await fetch(URL);\n    const { cast } = await response.json();\n\n    return normalizeCastData(cast);\n  },\n\n  async fetchReviews(id) {\n    const URL = `${BASE_URL}movie/${id}/reviews${KEY}`;\n\n    const response = await fetch(URL);\n    const { results } = await response.json();\n\n    return normalizeReviewData(results);\n  },\n\n  async fetchMoviesByQuery(query) {\n    const URL = `${BASE_URL}search/movie${KEY}&query=${query}`;\n\n    const response = await fetch(URL);\n    const data = await response.json();\n\n    return normalizeTrendingAndQueryData(data.results);\n  },\n};\n","export function normalizeMovieDetailsData(dataObj) {\n  return {\n    title: dataObj.title,\n    userScore: Math.floor(Math.ceil(dataObj.vote_average * 100) / 10) + '%',\n    overview: dataObj.overview,\n    genres: dataObj.genres.map(genre => genre.name).join(', '),\n    year: new Date(dataObj.release_date).getFullYear(),\n    imageUrl: dataObj.poster_path\n      ? `https://image.tmdb.org/t/p/w500${dataObj.poster_path}`\n      : 'https://cdn.pixabay.com/photo/2017/03/13/17/25/clapper-2140602_960_720.jpg',\n  };\n}\n","export function normalizeCastData(dataArr) {\n  return dataArr\n    .filter(el => el.profile_path)\n    .map(({ cast_id, character, name, profile_path }) => ({\n      id: cast_id,\n      character,\n      name,\n      imageUrl: `https://image.tmdb.org/t/p/w300${profile_path}`,\n    }));\n}\n","export function normalizeReviewData(dataArr) {\n  return dataArr.map(({ author, content, id }) => ({ author, content, id }));\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}"],"names":["CastList","styled","CastItem","CastTitleWrapper","CastSubtitle","CastText","CastSpanText","Cast","movieId","useParams","id","useState","cast","setCast","isLoading","setIsLoading","error","setError","useEffect","MoviesAPI","data","console","log","Loader","length","style","fontSize","color","textAlign","map","character","name","imageUrl","src","alt","width","normalizeTrendingAndQueryData","dataArr","title","poster_path","BASE_URL","KEY","fetchTrending","URL","fetch","response","json","results","fetchMovieDetails","dataObj","userScore","Math","floor","ceil","vote_average","overview","genres","genre","join","year","Date","release_date","getFullYear","fetchCast","filter","el","profile_path","cast_id","fetchReviews","author","content","fetchMoviesByQuery","query","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}