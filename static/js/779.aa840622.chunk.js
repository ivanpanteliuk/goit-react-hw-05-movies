"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[779],{9779:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var r,c,a,o=n(5861),s=n(9439),i=n(4687),u=n.n(i),f=n(1552),p=n(2791),h=n(7689),l=n(7505),v=n(168),x=n(7402),d=x.Z.li(r||(r=(0,v.Z)(["\n  padding: 20px;\n  margin-bottom: 30px;\n  border: 9px inset #7e00ff;\n  border-radius: 7px 40px 0px 40px;\n  box-shadow: 0 3px 6px -2px rgba(0, 0, 0, 0.2), 0 6px 12px rgba(0, 0, 0, 0.1);\n"]))),m=x.Z.h3(c||(c=(0,v.Z)(["\n  color: #ffbd2a;\n  font-weight: bold;\n  margin-bottom: 15px;\n  font-size: 25px;\n"]))),w=x.Z.p(a||(a=(0,v.Z)(["\n  font-size: 20px;\n  color: #fff;\n  margin-bottom: 15px;\n  letter-spacing: 1px;\n  line-height: 1.5555;\n"]))),g=n(5305),b=n(184);function Z(){var e=(0,h.UO)().id,t=(0,p.useState)([]),n=(0,s.Z)(t,2),r=n[0],c=n[1],a=(0,p.useState)(!1),i=(0,s.Z)(a,2),v=i[0],x=i[1],Z=(0,p.useState)(null),j=(0,s.Z)(Z,2),k=j[0],y=j[1];return(0,p.useEffect)((function(){(0,o.Z)(u().mark((function t(){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(!0),t.prev=1,t.next=4,l.y.fetchReviews(e);case 4:n=t.sent,c(n),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),y(t.t0);case 12:return t.prev=12,x(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,8,12,15]])})))()}),[e]),(0,b.jsxs)(f.$0,{children:[v&&(0,b.jsx)(g.Z,{}),!r&&(0,b.jsx)("p",{style:{fontSize:"40px",color:"#fff",textAlign:"center"},children:"We don't have any reviews for this movie"}),k&&(0,b.jsx)("p",{style:{fontSize:"40px",color:"#fff",textAlign:"center"},children:"Ops, something went wrong"}),(0,b.jsx)("ul",{children:r.map((function(e){var t=e.id,n=e.author,r=e.content;return(0,b.jsxs)(d,{children:[(0,b.jsxs)(m,{children:["Author: ",n]}),(0,b.jsx)(w,{children:r})]},t)}))})]})}},7505:function(e,t,n){n.d(t,{y:function(){return u}});var r=n(5861),c=n(4687),a=n.n(c);function o(e){return e.map((function(e){var t=e.id,n=e.title,r=e.poster_path;return{id:t,title:n,imageUrl:r?"https://image.tmdb.org/t/p/w400".concat(r):"https://cdn.pixabay.com/photo/2017/03/13/17/25/clapper-2140602_960_720.jpg"}}))}var s="https://api.themoviedb.org/3/",i="?api_key=4be2754f05f22adf5c9807436c0754eb",u={fetchTrending:function(){return(0,r.Z)(a().mark((function e(){var t,n,r,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(s).concat("trending/movie/day").concat(i),e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,c=r.results,e.abrupt("return",o(c));case 9:case"end":return e.stop()}}),e)})))()},fetchMovieDetails:function(e){return(0,r.Z)(a().mark((function t(){var n,r,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(s,"movie/").concat(e).concat(i),t.next=3,fetch(n);case 3:return r=t.sent,t.next=6,r.json();case 6:return c=t.sent,t.abrupt("return",{title:(a=c).title,userScore:Math.floor(Math.ceil(100*a.vote_average)/10)+"%",overview:a.overview,genres:a.genres.map((function(e){return e.name})).join(", "),year:new Date(a.release_date).getFullYear(),imageUrl:"https://image.tmdb.org/t/p/w500".concat(a.poster_path)});case 8:case"end":return t.stop()}var a}),t)})))()},fetchCast:function(e){return(0,r.Z)(a().mark((function t(){var n,r,c,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(s,"movie/").concat(e,"/credits").concat(i),t.next=3,fetch(n);case 3:return r=t.sent,t.next=6,r.json();case 6:return c=t.sent,o=c.cast,t.abrupt("return",o.filter((function(e){return e.profile_path})).map((function(e){var t=e.cast_id,n=e.character,r=e.name,c=e.profile_path;return{id:t,character:n,name:r,imageUrl:"https://image.tmdb.org/t/p/w300".concat(c)}})));case 9:case"end":return t.stop()}}),t)})))()},fetchReviews:function(e){return(0,r.Z)(a().mark((function t(){var n,r,c,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(s,"movie/").concat(e,"/reviews").concat(i),t.next=3,fetch(n);case 3:return r=t.sent,t.next=6,r.json();case 6:return c=t.sent,o=c.results,t.abrupt("return",o.map((function(e){return{author:e.author,content:e.content,id:e.id}})));case 9:case"end":return t.stop()}}),t)})))()},fetchMoviesByQuery:function(e){return(0,r.Z)(a().mark((function t(){var n,r,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(s,"search/movie").concat(i,"&query=").concat(e),t.next=3,fetch(n);case 3:return r=t.sent,t.next=6,r.json();case 6:return c=t.sent,t.abrupt("return",o(c.results));case 8:case"end":return t.stop()}}),t)})))()}}},5861:function(e,t,n){function r(e,t,n,r,c,a,o){try{var s=e[a](o),i=s.value}catch(u){return void n(u)}s.done?t(i):Promise.resolve(i).then(r,c)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(c,a){var o=e.apply(t,n);function s(e){r(o,c,a,s,i,"next",e)}function i(e){r(o,c,a,s,i,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return c}})}}]);
//# sourceMappingURL=779.aa840622.chunk.js.map