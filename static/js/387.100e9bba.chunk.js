"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[387],{3387:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var r,c,a,o,s,i,u=n(5861),f=n(9439),p=n(4687),l=n.n(p),h=n(2791),x=n(7689),d=n(7505),v=n(168),m=n(7402),g=m.Z.ul(r||(r=(0,v.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 17px;\n"]))),w=m.Z.li(c||(c=(0,v.Z)(["\n  flex-basis: calc((100% - 68px) / 5);\n  background-color: rgb(31, 30, 43);\n  box-shadow: 0 3px 6px -2px rgba(0, 0, 0, 0.2), 0 6px 12px rgba(0, 0, 0, 0.1);\n"]))),b=m.Z.div(a||(a=(0,v.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  width: 300px;\n  padding: 20px;\n  background-color: rgb(31, 30, 43);\n  color: #fff;\n  flex-grow: 1;\n  font-size: 20px;\n"]))),Z=m.Z.h3(o||(o=(0,v.Z)(["\n  color: #ffbd2a;\n  font-weight: bold;\n  margin-bottom: 15px;\n"]))),j=m.Z.p(s||(s=(0,v.Z)(["\n  font-size: 18px;\n"]))),y=m.Z.span(i||(i=(0,v.Z)(["\n  font-weight: bold;\n  font-style: none;\n  font-size: 22px;\n"]))),k=n(1552),_=n(5305),S=n(184);function z(){var e=(0,x.UO)().id,t=(0,h.useState)([]),n=(0,f.Z)(t,2),r=n[0],c=n[1],a=(0,h.useState)(!1),o=(0,f.Z)(a,2),s=o[0],i=o[1],p=(0,h.useState)(null),v=(0,f.Z)(p,2),m=v[0],z=v[1];return(0,h.useEffect)((function(){(0,u.Z)(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),t.prev=1,t.next=4,d.y.fetchCast(e);case 4:n=t.sent,c(n),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),z(t.t0);case 12:return t.prev=12,i(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,8,12,15]])})))()}),[e]),(0,S.jsxs)(k.$0,{children:[s&&(0,S.jsx)(_.Z,{}),!r&&(0,S.jsx)("p",{style:{fontSize:"40px",color:"#fff",textAlign:"center"},children:"There is no information about cast yet"}),m&&(0,S.jsx)("p",{style:{fontSize:"40px",color:"#fff",textAlign:"center"},children:"Ops, something went wrong"}),(0,S.jsx)(g,{children:r.map((function(e){var t=e.id,n=e.character,r=e.name,c=e.imageUrl;return(0,S.jsxs)(w,{children:[(0,S.jsx)("img",{src:c,alt:r,width:"300"}),(0,S.jsxs)(b,{children:[(0,S.jsx)(Z,{children:r}),(0,S.jsxs)(j,{children:[(0,S.jsx)(y,{children:"Character: "}),n]})]})]},t)}))})]})}},7505:function(e,t,n){n.d(t,{y:function(){return u}});var r=n(5861),c=n(4687),a=n.n(c);function o(e){return e.map((function(e){var t=e.id,n=e.title,r=e.poster_path;return{id:t,title:n,imageUrl:r?"https://image.tmdb.org/t/p/w400".concat(r):"https://cdn.pixabay.com/photo/2017/03/13/17/25/clapper-2140602_960_720.jpg"}}))}var s="https://api.themoviedb.org/3/",i="?api_key=4be2754f05f22adf5c9807436c0754eb",u={fetchTrending:function(){return(0,r.Z)(a().mark((function e(){var t,n,r,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(s).concat("trending/movie/day").concat(i),e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,c=r.results,e.abrupt("return",o(c));case 9:case"end":return e.stop()}}),e)})))()},fetchMovieDetails:function(e){return(0,r.Z)(a().mark((function t(){var n,r,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(s,"movie/").concat(e).concat(i),t.next=3,fetch(n);case 3:return r=t.sent,t.next=6,r.json();case 6:return c=t.sent,t.abrupt("return",{title:(a=c).title,userScore:Math.floor(Math.ceil(100*a.vote_average)/10)+"%",overview:a.overview,genres:a.genres.map((function(e){return e.name})).join(", "),year:new Date(a.release_date).getFullYear(),imageUrl:"https://image.tmdb.org/t/p/w500".concat(a.poster_path)});case 8:case"end":return t.stop()}var a}),t)})))()},fetchCast:function(e){return(0,r.Z)(a().mark((function t(){var n,r,c,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(s,"movie/").concat(e,"/credits").concat(i),t.next=3,fetch(n);case 3:return r=t.sent,t.next=6,r.json();case 6:return c=t.sent,o=c.cast,t.abrupt("return",o.filter((function(e){return e.profile_path})).map((function(e){var t=e.cast_id,n=e.character,r=e.name,c=e.profile_path;return{id:t,character:n,name:r,imageUrl:"https://image.tmdb.org/t/p/w300".concat(c)}})));case 9:case"end":return t.stop()}}),t)})))()},fetchReviews:function(e){return(0,r.Z)(a().mark((function t(){var n,r,c,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(s,"movie/").concat(e,"/reviews").concat(i),t.next=3,fetch(n);case 3:return r=t.sent,t.next=6,r.json();case 6:return c=t.sent,o=c.results,t.abrupt("return",o.map((function(e){return{author:e.author,content:e.content,id:e.id}})));case 9:case"end":return t.stop()}}),t)})))()},fetchMoviesByQuery:function(e){return(0,r.Z)(a().mark((function t(){var n,r,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(s,"search/movie").concat(i,"&query=").concat(e),t.next=3,fetch(n);case 3:return r=t.sent,t.next=6,r.json();case 6:return c=t.sent,t.abrupt("return",o(c.results));case 8:case"end":return t.stop()}}),t)})))()}}},5861:function(e,t,n){function r(e,t,n,r,c,a,o){try{var s=e[a](o),i=s.value}catch(u){return void n(u)}s.done?t(i):Promise.resolve(i).then(r,c)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(c,a){var o=e.apply(t,n);function s(e){r(o,c,a,s,i,"next",e)}function i(e){r(o,c,a,s,i,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return c}})}}]);
//# sourceMappingURL=387.100e9bba.chunk.js.map