"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[779],{9779:function(t,e,n){n.r(e),n.d(e,{default:function(){return Z}});var r,c,a,o=n(5861),s=n(9439),i=n(4687),u=n.n(i),p=n(1552),f=n(2791),h=n(7689),l=n(7505),x=n(168),v=n(7402),d=v.Z.li(r||(r=(0,x.Z)(["\n  padding: 20px;\n  margin-bottom: 30px;\n  border: 9px inset #7e00ff;\n  border-radius: 7px 40px 0px 40px;\n  box-shadow: 0 3px 6px -2px rgba(0, 0, 0, 0.2), 0 6px 12px rgba(0, 0, 0, 0.1);\n"]))),m=v.Z.h3(c||(c=(0,x.Z)(["\n  color: #ffbd2a;\n  font-weight: bold;\n  margin-bottom: 15px;\n  font-size: 25px;\n"]))),g=v.Z.p(a||(a=(0,x.Z)(["\n  font-size: 20px;\n  color: #fff;\n  margin-bottom: 15px;\n  letter-spacing: 1px;\n  line-height: 1.5555;\n"]))),w=n(5305),b=n(184);function Z(){var t=(0,h.UO)().id,e=(0,f.useState)([]),n=(0,s.Z)(e,2),r=n[0],c=n[1],a=(0,f.useState)(!1),i=(0,s.Z)(a,2),x=i[0],v=i[1],Z=(0,f.useState)(null),_=(0,s.Z)(Z,2),j=_[0],y=_[1];return(0,f.useEffect)((function(){(0,o.Z)(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,l.y.fetchReviews(t);case 4:n=e.sent,c(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),y(e.t0);case 12:return e.prev=12,v(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})))()}),[t]),(0,b.jsxs)(p.$0,{children:[x&&(0,b.jsx)(w.Z,{}),!r.length&&(0,b.jsx)("p",{style:{fontSize:"40px",color:"#fff",textAlign:"center"},children:"We don't have any reviews for this movie"}),j&&(0,b.jsx)("p",{style:{fontSize:"40px",color:"#fff",textAlign:"center"},children:"Ops, something went wrong"}),(0,b.jsx)("ul",{children:r.map((function(t){var e=t.id,n=t.author,r=t.content;return(0,b.jsxs)(d,{children:[(0,b.jsxs)(m,{children:["Author: ",n]}),(0,b.jsx)(g,{children:r})]},e)}))})]})}},7505:function(t,e,n){n.d(e,{y:function(){return u}});var r=n(5861),c=n(4687),a=n.n(c);function o(t){return t.map((function(t){var e=t.id,n=t.title,r=t.poster_path;return{id:e,title:n,imageUrl:r?"https://image.tmdb.org/t/p/w400".concat(r):"https://cdn.pixabay.com/photo/2017/03/13/17/25/clapper-2140602_960_720.jpg"}}))}var s="https://api.themoviedb.org/3/",i="?api_key=4be2754f05f22adf5c9807436c0754eb",u={fetchTrending:function(){return(0,r.Z)(a().mark((function t(){var e,n,r,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(s).concat("trending/movie/day").concat(i),t.next=3,fetch(e);case 3:return n=t.sent,t.next=6,n.json();case 6:return r=t.sent,c=r.results,t.abrupt("return",o(c));case 9:case"end":return t.stop()}}),t)})))()},fetchMovieDetails:function(t){return(0,r.Z)(a().mark((function e(){var n,r,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(s,"movie/").concat(t).concat(i),e.next=3,fetch(n);case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,e.abrupt("return",{title:(a=c).title,userScore:Math.floor(Math.ceil(100*a.vote_average)/10)+"%",overview:a.overview,genres:a.genres.map((function(t){return t.name})).join(", "),year:new Date(a.release_date).getFullYear(),imageUrl:a.poster_path?"https://image.tmdb.org/t/p/w500".concat(a.poster_path):"https://cdn.pixabay.com/photo/2017/03/13/17/25/clapper-2140602_960_720.jpg"});case 8:case"end":return e.stop()}var a}),e)})))()},fetchCast:function(t){return(0,r.Z)(a().mark((function e(){var n,r,c,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(s,"movie/").concat(t,"/credits").concat(i),e.next=3,fetch(n);case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,o=c.cast,e.abrupt("return",o.filter((function(t){return t.profile_path})).map((function(t){var e=t.cast_id,n=t.character,r=t.name,c=t.profile_path;return{id:e,character:n,name:r,imageUrl:"https://image.tmdb.org/t/p/w300".concat(c)}})));case 9:case"end":return e.stop()}}),e)})))()},fetchReviews:function(t){return(0,r.Z)(a().mark((function e(){var n,r,c,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(s,"movie/").concat(t,"/reviews").concat(i),e.next=3,fetch(n);case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,o=c.results,e.abrupt("return",o.map((function(t){return{author:t.author,content:t.content,id:t.id}})));case 9:case"end":return e.stop()}}),e)})))()},fetchMoviesByQuery:function(t){return(0,r.Z)(a().mark((function e(){var n,r,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(s,"search/movie").concat(i,"&query=").concat(t),e.next=3,fetch(n);case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,e.abrupt("return",o(c.results));case 8:case"end":return e.stop()}}),e)})))()}}},5861:function(t,e,n){function r(t,e,n,r,c,a,o){try{var s=t[a](o),i=s.value}catch(u){return void n(u)}s.done?e(i):Promise.resolve(i).then(r,c)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(c,a){var o=t.apply(e,n);function s(t){r(o,c,a,s,i,"next",t)}function i(t){r(o,c,a,s,i,"throw",t)}s(void 0)}))}}n.d(e,{Z:function(){return c}})}}]);
//# sourceMappingURL=779.5d7331f3.chunk.js.map